!function(){"use strict";function e(t,n,r,o){if(document.addEventListener)if(t.length)for(var i=0;i<t.length;i++)e(t[i],n,r,o);else t.addEventListener(n,r,o);else if(t.length)for(i=0;i<t.length;i++)e(t[i],n,r);else t.attachEvent("on"+n,function(){return r.call(t,window.event)})}function t(e,n,r,o){if(document.removeEventListener)if(e.length)for(var i=0;i<e.length;i++)t(e[i],n,r,o);else e.removeEventListener(n,r,o);else if(e.length)for(i=0;i<e.length;i++)t(e[i],n,r);else e.detachEvent("on"+n,function(){return r.call(e,window.event)})}var n=new function(){var n=this;function r(t){var r;t.preventDefault(),r=t.touches?t.touches[0]:t,n.touchOption={x:r.clientX,y:r.clientY},n.parentOption={x:n.parent.offsetLeft,y:n.parent.offsetTop},e(document,"touchmove",function(){t.preventDefault()},!1),e(document,"mousemove",o,!1),e(document,"mouseup",i,!1),e(document,"touchmove",o,!1),e(document,"touchend",i,!1)}function o(e){var t;t=e.touches?e.touches[0]:e;var r=n.parentOption.x+t.clientX-n.touchOption.x,o=n.parentOption.y+t.clientY-n.touchOption.y;n.parent.style.left=r+"px",n.parent.style.top=o+"px"}function i(e){t(document,"touchmove",function(){e.preventDefault()},!1),t(document,"touchmove",o,!1),t(document,"touchend",i,!1),t(document,"mousemove",o,!1),t(document,"mouseup",i,!1)}this.ele=null,this.parent=null,this.parentOption={x:0,y:0},this.touchOption={x:0,y:0},this.init=function(t){this.ele=t,this.parent=this.ele.parentNode,e(n.ele,"mousedown",r,!1),e(n.ele,"touchstart",r,!1)},this.remove=function(e){this.ele&&(t(document,"mousedown",r,!1),t(document,"touchstart",r,!1))}};function r(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}r(".ARK_HOVER {\r\n    outline: 1px solid #e00000;\r\n    outline-offset: -1px;\r\n    /*background-color: red !important*/\r\n}\r\n\r\n.ARK_SAVE_NO_DISPOSE{\r\n    outline: 2px solid #e00000;\r\n    background-color: rgba(240, 2, 2, 0.1);\r\n}\r\n.ARK_SAVE_NO_DISPOSE.ARK_NO_LIGHT{\r\n    outline: 0px solid #e00000;\r\n    background-color: rgba(240, 2, 2, 0);\r\n}\r\n.ARK_SAVE_NO_DISPOSE:hover,.ARK_SAVE_NO_DISPOSE.ARK_NO_LIGHT:hover {\r\n    outline:2px solid #e00000;\r\n    background: rgba(224,0,0,0);\r\n}\r\n.ARK_SAVE_DISPOSE{\r\n    outline: 2px solid #0098e1;\r\n    background-color: rgba(2,163,240, .1);\r\n}\r\n.ARK_SAVE_DISPOSE.ARK_NO_LIGHT{\r\n    outline: 0px solid #0098e1;\r\n    background-color:  rgba(0, 152, 224, 0);\r\n}\r\n.ARK_SAVE_DISPOSE:hover,.ARK_SAVE_DISPOSE.ARK_NO_LIGHT:hover {\r\n    outline: 2px solid #0098e1;\r\n    background: rgba(2,163,240,0);\r\n}\r\n.ARK_SAVE_CHANGE_DISPOSE{\r\n    outline: 2px solid #ffb91c;\r\n    background-color: rgba(255,237,22, .1);\r\n}\r\n.ARK_SAVE_CHANGE_DISPOSE.ARK_NO_LIGHT{\r\n    outline: 0px solid #ffb91c;\r\n    background-color:  rgba(255,237,22, 0);\r\n}\r\n.ARK_SAVE_CHANGE_DISPOSE:hover,.ARK_SAVE_CHANGE_DISPOSE.ARK_NO_LIGHT:hover {\r\n    outline: 2px solid #ffb91c;\r\n    background: rgba(255,237,22,0);\r\n}"),Array.prototype.unique=function(){for(var e={},t=0;t<this.length;t++)void 0===e[this[t]]&&(e[this[t]]=1);for(var t in this.length=0,e)this[this.length]=t;return this};var o=/^(?:body|html)$/i,i=["I","SPAN","EM","svg"],a=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},s=function(){function e(){}return e.bind=function(e,t,n,r){var o;if(null==r&&(r=!1),null!=e)return null!=document.addEventListener?e.addEventListener(t,n,r):null!=document.attachEvent?(e["e"+(o=t+n)]=n,e[o]=function(){var t;return(t=window.event).currentTarget=e,t.target=t.srcElement,e["e"+o].call(e,t)},e.attachEvent("on"+t,e[o])):e["on"+t]=n,!0},e.unbind=function(e,t,n,r){var o;if(null!=e)return null!=document.removeEventListener?e.removeEventListener(t,n,r):null!=document.detachEvent?(o=t+n,e.detachEvent("on"+t,e[o]),e[o]=null,e["e"+o]=null):e["on"+t]=null,!0},e.bindOn=function(t,n,r,o,i){var a,s,l,c;switch(null==i&&(i=!1),typeof r){case"string":for(l=0,s=(c=t.querySelectorAll(r)).length;l<s;l++)a=c[l],e.bindOnce(a,n,o,i);break;case"function":i=null!==o&&o,o=r,e.bindOnce(t,n,o,i)}return!0},e.bindOnce=function(t,n,r,o){return null==o&&(o=!1),e.unbind(t,n,r,o),e.bind(t,n,r,o)},e.isLeaf=function(e){var t,n,r;if(!e.hasChildNodes()&&"svg"!==e.tagName)for(n=0,t=(r=e.childNodes).length;n<t;n++)if(1===r[n].nodeType)return!1;return!0},e.isParentOfLeaf=function(t){var n,r,o,i;if(!t.hasChildNodes())return!1;if("svg"===t.tagName)return!1;for(o=0,r=(i=t.childNodes).length;o<r;o++)if(n=i[o],!e.isLeaf(n))return!1;return!0},e.lessThanSomeLevelDepth=function(t,n,r){var o,i,a,s;if(null==r&&(r=1),t.childNodes.length>0){if(r>n)return!1;for(a=0,o=(s=t.childNodes).length;a<o;a++)if((i=s[a]).nodeType===Node.ELEMENT_NODE&&!e.lessThanSomeLevelDepth(i,n,r+1))return!1}return r<=n},e.parentOfLeafText=function(e){var t,n,r,o,i,a;if(r="",!e.hasChildNodes()&&!e.textContent)return"";for(i=0,o=(a=e.childNodes).length;i<o;i++)3===(t=a[i]).nodeType&&(null!=t.textContent?n=this.trim(t.textContent):null!=t.data&&(n=this.trim(t.data)),n.length>0&&(r+=n+" "));return r=r.replace(/[\n \t]+/g," ").trim(),this.processText(r)},e.tree=function(e){var t,n;for(n=[],t=new TaggingNode(e);"body"!==t.name&&"html"!==t.name;)n.unshift(t),t=new TaggingNode(t.node.parentNode);return n},e.path=function(e){var t,n,r,o;for(t="",r=0,n=(o=this.tree(e)).length;r<n;r++)t+=o[r].path();return t},e.nodePath=function(e){var t,n,r,o;for(t="",r=0,n=(o=this.tree(e)).length;r<n;r++)t+=o[r].path();return t},e.getGrObj=function(e){var t,n;if(n=e,this.hasAttr(e,"data-growing-info")&&(t=e.getAttribute("data-growing-info")),t)return t;for(;n&&"BODY"!==n.tagName&&!this.isContainer(n)&&(-1===["TR"].indexOf(n.tagName)||!this.hasAttr(n,"data-growing-info"));)n=n.parentNode;return this.hasAttr(n,"data-growing-info")?n.getAttribute("data-growing-info"):void 0},e.index=function(e){var t,n;return this.hasAttr(e,"data-growing-idx")?e.getAttribute("data-growing-idx"):(t=this.calculateExtendsIdx(e),(n=this.nodePath(e))&&!t&&this.isInList(n)&&(t=this._calculateListIdx(e)),t)},e.calculateExtendsIdx=function(e){var t;for(t=e;t&&"BODY"!==t.tagName&&!this.hasAttr(t,"data-growing-idx");)t=t.parentNode;if(t)return t.getAttribute("data-growing-idx")},e._calculateListIdx=function(e){var t,n,r,o,i,a;for(o=e;o&&"BODY"!==o.tagName&&-1===this.indexOf(listTags,o.tagName);)o=o.parentNode;if(o)for(t=1,i=0,n=(a=o.parentNode.childNodes).length;i<n;i++)if((r=a[i]).tagName===o.tagName){if(this.hasAttr(r,"data-growing-idx")&&(t=parseInt(r.getAttribute("data-growing-idx"))),r===o)return t;t+=1}},e.isInList=function(e){return e.split(/\.|\/|\#/).some(function(e){return listTags.some(function(t){return t.toLowerCase()===e.toLowerCase()})})},e.href=function(e){var t,n,r;return"IMG"===e.tagName?(null!=(r=e.src)?r.length:void 0)>0&&-1===e.src.indexOf("data:image")&&(n=e.src):this.hasAttr(e,"href")&&(t=e.getAttribute("href"))&&0!==t.indexOf("javascript")&&(n=this.normalizePath(t.slice(0,320))),n},e.siblingList=function(e){var t,n;for(n=e;n&&"BODY"!==n.tagName&&-1===["TR","LI","DL"].indexOf(n.tagName);)n=n.parentNode;return n&&"BODY"!==n.tagName?function(){var e,r,o,i;for(i=[],r=0,e=(o=n.parentNode.children).length;r<e;r++)t=o[r],this.isVisible(t)&&i.push(t);return i}.call(this):[]},e.similarPath=function(e){var t,n,r;for(r="",n=0,t=new TaggingNode(e);"body"!==t.name;){if(null!=t.id){if(n)return r=""+t.similarPath(!0)+r,this.path(t.node.parentNode)+r;n=!0}r=""+t.similarPath()+r,t=new TaggingNode(t.node.parentNode)}return r},e.hasClass=function(e,t){return null!=e&&e.classList.contains(t)},e.addClass=function(e,t){return null!=e&&e.classList.add(t)},e.removeClass=function(e,t){return null!=e&&e.classList.remove(t)},e.toggleClass=function(e,t){return this.hasClass(e,t)?this.removeClass(e,t):this.addClass(e,t)},e.offset=function(e){var t,n,r,o;if(e)return(r=e.getBoundingClientRect()).width||r.height||e.getClientRects().length?(t=e.ownerDocument,o=e===e.window?e:9===e.nodeType?e.defaultView:window,n=t.documentElement,{top:r.top+o.pageYOffset-n.clientTop,left:r.left+o.pageXOffset-n.clientLeft}):void 0},e.position=function(t){var n,r,i,a;return r=e.offsetParent(t),(n=e.offset(t))?((i=o.test(r.nodeName)?{top:0,left:0}:e.offset(r)).top+=parseFloat(e.css(r,"border-top-width")||0),i.left+=parseFloat(e.css(r,"border-left-width")||0),a=r.scrollTop?r.scrollTop:0,{top:n.top-i.top+a,left:n.left-i.left}):null},e.offsetParent=function(t){for(var n;t&&!t.offsetParent&&(t=t.parentNode)!==document.body;);if(!t)return document.body;for(n=t.offsetParent||document.body;n&&!o.test(n.nodeName)&&"static"===e.css(n,"position");)n=n.offsetParent;return n},e.width=function(e){var t;if(e)return e===e.window?e.innerWidth:9===e.nodeType?e.documentElement.scrollWidth:(t=e.getBoundingClientRect(),Math.round(t.width))},e.stringCircleEventIfy=function(e){var t;return t=this.deepClone(e),JSON.stringify(t)},e.include=function(e,t){return indexOf.call(e,t)>=0},e.deepClone=function(e){var t,n,r,o,i,a,s;if(a=typeof e,this.isDom(e))return{};if(!e)return null;if(isArray(e))o=[];else{if("object"!==a)return e;o={}}if("array"===a){for(i=0,r=e.length;i<r;i++)t=e[i],o.push(this.deepClone(t));return o}if("object"===a){for(n in e)s=e[n],o[n]=this.deepClone(s);return o}},e.isDom=function(e){return e&&"string"==typeof e.nodeName&&"object"==typeof e},e.height=function(e){var t;if(e)return e===e.window?e.innerHeight:9===e.nodeType?e.documentElement.scrollHeight:(t=e.getBoundingClientRect(),Math.round(t.height))},e.isHidden=function(e){return"none"===e.style.display},e.closest=function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null},e.getAccurateElementsByXpath=function(e,t,n,r,o){var i,a,s,l,c,d;if(d=[],0===(s=new GrXpathParser(e).findElements()).length)return d;for(c=0,l=(i=Array.prototype.slice.call(s)).length;c<l;c++)a=i[c],GrSameXpath.isSame(e,this.nodePath(a))&&d.push(a);return d},e.getClickElementByTag=function(t){var n;return(n=e.getElementsByXpath(t.filter.xpath,t.filter.content,t.filter.index,t.filter.href))[t.attrs.domIndex||0]||n[0]},e.getElementsBySkeletonXpath=function(e,t,n,r,o){var i,a,s,l,c;if(null==o&&(o=!1),l=[],e)for(a=0,i=(s=e.split(",")).length;a<i;a++)c=s[a],l=l.concat(this._queryXpath(c,t,n,r,o,"skeleton"));return this.uniq(l)},e.getElementsByXpath=function(e,t,n,r,o){var i,a,s,l,c;if(null==o&&(o=!1),l=[],e)for(a=0,i=(s=e.split(",")).length;a<i;a++)c=s[a],l=l.concat(this._queryXpath(c,t,n,r,o));return this.uniq(l)},e._queryXpath=function(t,n,r,o,i,a){var s,l,c,d;return null==a&&(a="full"),c=new GrXpathParser(t).findElements(),s=(s=Array.prototype.slice.call(c)).filter((d=this,function(r){var s,l,c,u,p,f;if(u=!0,o=d.filterProtocol(o),n||o)if(i)n&&((l=e.content(r)).length>0&&l===n||(u=!1)),o&&("img"===r.tagName.toLowerCase()?u=u&&r.src&&-1===r.src.indexOf("data:image")&&d.filterProtocol(r.src)===o:(p=r.hasAttribute("href")&&d.filterProtocol(e.normalizePath(r.getAttribute("href"))),u=u&&p&&p===o));else{if(n){try{s=new RegExp(n.replace(/\*/g,".*"))}catch(e){s=new RegExp("")}(null!=(l=e.content(r))?l.length:void 0)>0&&(-1!==l.indexOf(n)||s.test(l))||(u=!1)}if(o){try{c=new RegExp(o.replace(/\*/g,".*"))}catch(e){c=new RegExp("")}"img"===r.tagName.toLowerCase()?(f=d.filterProtocol(r.src),u=u&&f&&-1===f.indexOf("data:image")&&(f===o||c.test(f))):(p=r.hasAttribute("href")&&d.filterProtocol(e.normalizePath(r.getAttribute("href"))),u=u&&p&&(p===o||c.test(p)))}}return"skeleton"===a?u&&GrSameXpath.isSameWithSkeleton(t,d.nodePath(r)):u&&GrSameXpath.isSameWithRegular(t,d.nodePath(r))})),r&&0!==parseInt(r)&&(s=function(){var t,n,o;for(o=[],n=0,t=s.length;n<t;n++)l=s[n],parseInt(e.index(l))===parseInt(r)&&o.push(l);return o}()),function(){var e,t,n;for(n=[],t=0,e=s.length;t<e;t++)l=s[t],this.isVisible(l)&&n.push(l);return n}.call(this)},e._xpathRemoveEmptyClassOrId=function(e){var t;return(t=e.replace(/(\S)\#\./g,"$1.").replace(/(\S)\#\s/g,"$1 ")).replace(/\.(\s)/g,"$1").replace(/(\S)\.\s/,"$1 "),t},e.content=function(e){var t,n;return n=e.tagName.toLowerCase(),this.hasAttr(e,"title")&&e.getAttribute("title").length>0?t=this.processText(e.getAttribute("title")):this.isLeaf(e)?t=this.calculateLeafContent(e):-1!==this.indexOf(["a","button"],n)?t=this.containerElemContent(e):this.isParentOfLeaf(e)&&(t=this.parentOfLeafText(e)),t||""},e.isContainer=function(e){return this.hasAttr(e,"data-growing-container")},e.onlyContainsChildren=function(e,t){var n,r,o,i;if(0===!e.children.length)return!1;for(o=0,r=(i=e.children).length;o<r;o++)if(n=i[o],-1===this.indexOf(t,n.tagName))return!1;return!0},e.calculateLeafContent=function(e){var t,n,r,o,i,a,s,l,c,d;if(c=e.tagName.toLowerCase(),r=this.href(e),"img"===c){if(e.alt)return e.alt;if(r&&(o=r.split("?")[0].split("/")).length>0)return o[o.length-1]}else{if("input"===c&&-1!==this.indexOf(["button","submit"],e.type))return this.processText(e.value);if("svg"===c){for(l=[],a=0,i=(s=e.childNodes).length;a<i;a++)1===(n=s[a]).nodeType&&("use"===n.tagName&&this.hasAttr(n,"xlink:href")?l.push(t=n.getAttribute("xlink:href")):l.push(void 0));return l}if(d="",null!=e.textContent?d=e.textContent.replace(/[\n \t]+/g," ").trim():null!=e.innerText&&(d=e.innerText.replace(/[\n \t]+/g," ").trim()),d.length>0)return t=d.length<50?d:"a"===c?d.slice(0,30):d.substr(0,47),this.processText(t)}},e.containerElemContent=function(e){var t;if(this.hasAttr(e,"title")&&e.title.length>0)return this.processText(e.getAttribute("title"));if("BUTTON"===e.tagName){if(e.name.length>0)return e.name;if(this.onlyContainsChildren(e,i)&&null!=e.textContent)return t=e.textContent.replace(/[\n \t]+/g," ").trim(),this.processText(t)}else if("A"===e.tagName){if(this.onlyContainsChildren(e,i)&&null!=e.textContent)return t=e.textContent.replace(/[\n \t]+/g," ").trim(),this.processText(t);if(this.hasAttr(e,"href")&&e.getAttribute("href").length>0)return e.getAttribute("href")}else if("LABEL"===e.tagName&&null!=e.textContent)return t=e.textContent.replace(/[\n \t]+/g," ").trim(),this.processText(t)},e.hasAttr=function(e,t){return e.hasAttribute?e.hasAttribute(t):!!e[t]},e.isEmpty=function(e){var t;return!function(){var n,r,o;for(o=[],r=0,n=e.length;r<n;r++)t=e[r],o.push(e.hasOwnProperty(t));return o}()},e.aElementsEqualbElements=function(e,t){var n,r;if("object"!=typeof e||"object"!=typeof t)return!1;if(e===t)return!0;if(null==e||null==t)return!1;for(n in e)if(hasProp.call(e,n)){if(r=e[n],!t.hasOwnProperty(n))return!1;if(r!==t[n])return!1}for(n in t)if(hasProp.call(t,n)&&(r=t[n],!e.hasOwnProperty(n)))return!1;return!0},e.offsetLeft=function(e){for(var t=e.offsetLeft,n=e.offsetParent;null!==n;)t+=n.offsetLeft,n=n.offsetParent;if("BackCompat"==document.compatMode)document.body.scrollLeft;else document.documentElement.scrollLeft;return t},e.offsetTop=function(e){for(var t=e.offsetTop,n=e.offsetParent;null!==n;)t+=n.offsetTop,n=n.offsetParent;return t},e.title=function(){var e,t;return-1!==(t=document.title).indexOf("|")?(e=t.split("|")).length>=3?this.trim(e[0]+"|"+e[1]):e[0].trim():-1!==t.indexOf("-")?this.trim(t.split("-")[0]):t},e.indexOf=function(e,t){var n,r;if(null!=Array.prototype.indexOf)return e.indexOf(t);for(r=e.length,n=-1;++n<r;)if(e[n]===t)return n;return-1},e.host=function(){var e,t,n,r;if(null!=window.rules){for(r=window.location.toString(),t=0,e=rules.length;t<e;t++)n=rules[t].split(","),r=r.replace(new RegExp(n[0]),n[1]);return UrlParseRE.exec(r)[10]}return window.location.host},e.path=function(){var e,t,n,r,o,i,a;if(null!=window.rules){for(a=window.location.toString(),r=0,t=rules.length;r<t;r++)o=rules[r].split(","),a=a.replace(new RegExp(o[0]),o[1]);null==(n=UrlParseRE.exec(a)[13])&&(n="")}else n=window.location.pathname;return n=this.normalizePath(n),window.vds.hashtag&&(-1!==(e=window.location.hash).indexOf("?")?n+=e.split("?")[0]:n+=e),(null!=(i=window.vds)?i.pathCaseSensitive:void 0)?n:n.toLowerCase()},e.query=function(){var e,t,n,r,o,i;if(null!=window.rules){for(i=window.location.toString(),t=0,e=rules.length;t<e;t++)r=rules[t].split(","),i=i.replace(new RegExp(r[0]),r[1]);null==(n=UrlParseRE.exec(i)[16])&&(n="")}else n=window.location.search;return n=this.normalizeQuery(n),window.vds.hashtag&&-1!==window.location.hash.indexOf("?")&&(n=window.location.hash.split("?")[1]),(null!=(o=window.vds)?o.pathCaseSensitive:void 0)?n:n.toLowerCase()},e.normalizePath=function(e){var t,n;return(n=(t=this.trim(e)).length)>1&&"/"===t[n-1]?t.slice(0,n-1):t},e.normalizeQuery=function(e){return e.length>1&&"?"===e[0]?e.slice(1):window.vds.hashtag&&-1!==window.location.hash.indexOf("?")?window.location.hash.split("?")[1]:e},e.css=function(e,t,n){var r,o,i,s,l,c,d;if(e){if(arguments.length<3){if(r=getComputedStyle(e,""),"string"==typeof t)return e.style[a(t)]||r.getPropertyValue(t);if(isArray(t)){for(l={},c=0,i=t.length;c<i;c++)l[s=t[c]]=e.style[a(s)]||r.getPropertyValue(s);return l}}if("string"==typeof t)return e.style[dasherize(t)]=n||0===n?maybeAddPx(t,n):"";for(o in d=[],t)t[o]||0===t[o]?d.push(e.style[dasherize(o)]=maybeAddPx(o,t[o])):d.push(e.style[dasherize(o)]="");return d}},e.hasBackgroundImage=function(t){var n;return(n=e.css(t,"background-image"))&&n.length>0&&"none"!==n},e.cursorOffset=function(e){var t,n;return n={top:0,left:0},e.pageX?(n.left=e.pageX,n.top=e.pageY):e.clientX&&(t=document.documentElement||document.body,n.left=e.clientX+t.scrollLeft,n.top=e.clientY+t.scrollTop),n},e.merge=function(e,t){var n,r;for(n in r={},e)r[n]=e[n];for(n in t)r[n]=t[n];for(n in r)"function"==typeof r[n]&&delete r[n];return r},e.trim=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},e.levelDomain=function(e){var t;return 2===(t=e.split(".")).length?"."+t.join("."):t.length>=3&&"com"===t[t.length-2]?"."+t.slice(-3).join("."):"."+t.slice(-2).join(".")},e.isValidGrTrackingTag=function(e){return"password"!==e.type&&e.hasAttribute("growing-track")},e.isClickableInputTag=function(e){return"INPUT"===e.tagName&&-1!==["button","submit"].indexOf(e.type)},e.uniq=function(e){var t,n,r,o;if(o=[],e instanceof Array==!1||e.length<=1)return e;for(r=0,n=e.length;r<n;r++)t=e[r],-1===o.indexOf(t)&&o.push(t);return o},e.clone=function(e){var t,n,r;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return t="",null!=e.global&&(t+="g"),null!=e.ignoreCase&&(t+="i"),null!=e.multiline&&(t+="m"),null!=e.sticky&&(t+="y"),new RegExp(e.source,t);for(n in r={},e)r[n]=e[n];return r},e.skeletonXpath=function(e){return 0===e.split("/").splice(1).filter(function(e){return!e.match(/^[a-zA-Z]+((\.|\#)?\*)?$/)}).length},e.filterSkeletonXpath=function(t){return t.split(",").filter(function(t){return!e.skeletonXpath(t)}).join(",")},e.getPercent=function(e){var t;return 0===(t=Math.round(1e4*e)/100)&&(t="< 0.01"),t},e.filterProtocol=function(e){var t;return e?-1===(t=e.indexOf("://"))?e:e.substring(t+3):""},e.isEmptyData=function(e,t){return!e||0===e.length||("line"===t&&1===e.length&&1===e[0].data.length&&void 0===e[0].data[0].x&&void 0===e[0].data[0].y||"bar"===t&&1===e.length&&1===e[0].data.length&&0===e[0].data[0].length)},e.isVisible=function(e){if("none"!==this.css(e,"display")&&"hidden"!==this.css(e,"visibility")&&this.isParentVisible(e)){if(e.offsetParent)return!0;if("fixed"===this.css(e,"position")||"svg"===e.tagName)return!0}return!1},e.isParentVisible=function(e){var t;for(t=e.parentNode;"BODY"!==t.tagName;){if("none"===this.css(t,"display")||"0px"===this.css(t,"height")||"0px"===this.css(t,"width"))return!1;t=t.parentNode}return!0},e.scrollTop=function(){return document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop},e.scrollLeft=function(){return document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft},e.processText=function(e){return e&&e.length>50&&(e=e.substr(0,50)+"..."),e},e.boxPosition=function(e,t){var n=420,r=330,o=4;"debug"===t&&(n=260,r=270,o=4);var i=this.offsetTop(e),a=this.offsetLeft(e),s=this.width(e),l=this.height(e),c=this.width(document.body),d=this.height(document.body),u=a,p=i-r-o;return u+n>c&&(u=a-n+s)<0&&(u=a+s/2+o),p+r+o>d&&(p=i-r-o),p<0&&(p=i+l+o),{top:p,left:u}},e}(),l=window,c=(l.navigator.userAgent,l.screen,l.location.protocol,l.location.href,document.title,Function.prototype,0),d="",u={$os:"",$lib:"JS",$platform:"JS",$lib_version:"4.0.4",$manufacturer:"",$model:"",$screen_width:"",$screen_height:"",$url:"",$title:"",$referrer:"",$debug:0,$is_login:!1,$country:"",$province:"",$city:"",$utm_source:"",$utm_medium:"",$utm_term:"",$utm_content:"",$utm_campaign:"",$utm_campaign_id:"",$is_first_time:"",$is_first_day:""},p={xwho:"",xwhen:"",xwhat:"",appid:"",xcontext:{}};p.xcontext=u;var f=function(e){(e||!0===e)&&(u.$debug=c=e)};function h(e){1!==c&&2!==c||console.warn(e)}function g(){if((1===c||2===c)&&console.constructor===Object&&console.log)try{return console.log.apply(console,arguments)}catch(e){console.log(arguments[0])}}function m(){this.boss="",this.orgin="",this.appid=""}m.prototype.postMsg=function(e){g("postMsg===>",e),e&&"object"==typeof e&&(e=JSON.stringify(e)),e&&"string"==typeof e&&window.parent.postMessage(e,this.boss)},m.prototype.getMsg=function(t){e(window,"message",t)};var v=new m;function A(e){return null==e?0:("string"!=typeof e&&(e+=""),e.replace(/[^\x00-\xff]/g,"01").length)}function b(e){return!!new RegExp("[\\u4E00-\\u9FA5]|[\\uFE30-\\uFFA0]","gi").exec(e)}function _(e){return!/^[$a-zA-Z][a-zA-Z0-9_$]{0,255}$/.test(e)}function x(e){var t=0;if(e.constructor===Object)for(var n in e)e[n]&&"undefined"!==e[n]&&e[n].constructor===Object?t+=x(e[n]):t++;return t}function E(){}E.prototype.checkKeyOnce=function(e){return"$lib"!==e&&"$lib_version"!==e&&"$platform"!==e||(h("键值对中，预置属性$lib与$lib_version,$platform不可更改！"),!1)},E.prototype.checkKey=function(e){return b(e)?(h("键值对中，key不可以含有中文或乱码！"),!1):A(e)>125||e===1/0?(h("键值对中，key的长度不可以超过125个字符！"),!1):!_(e)||(h("键值对中，key不可以含除$ _ 有特殊字符！"),!1)},E.prototype.checkSKey=function(e){return b(e)?(h("键值对中，key不可以含有中文或乱码！"),!1):A(e)>99||e===1/0?(h("键值对中，key的长度不可以超过99个字符！"),!1):!_(e)||(h("键值对中，key不可以含除$ _ 有特殊字符！"),!1)},E.prototype.checkLenKey=function(e){return b(e)?(h("键值对中，key不可以含有中文或乱码！"),!1):A(e)>255||e.constructor===Number&&e===1/0?(h("键值对中，key的长度不可以超过255个字符！"),!1):!_(e)||(h("键值对中，key不可以含除$和_有特殊字符！"),!1)},E.prototype.checkValue=function(e){return e||0===e||!1===e?e.constructor!==String&&e.constructor!==Number||!(A(e)>255||e.constructor===Number&&e===1/0)||(h("value不可以超过255个字符！"),!1):(h("value无值！"),!1)},E.prototype.checkObjLen=function(e){return x(e)>100?(h("Object长度超过100条！"),!1):0!==x(e)||0},E.prototype.checkArrayLen=function(e){return n=0,(t=e).constructor===Array&&(n=t.length),!(n>100)||(h("Array长度超过100条！"),!1);var t,n},E.prototype.checkMsg=function(e){if(e.constructor===Array)return e;for(var t in e)this.checkKey(t)&&(0===e[t]||e[t]||this.checkValue(e[t]))?e[t].constructor===Object&&(e[t]=this.checkMsg(e[t])):delete e[t];return e};var y=new E;r(".ARK_BOX {\r\n    position: absolute;\r\n    width: 420px;\r\n    height: 330px;\r\n    background-color: #ffffff;\r\n    box-shadow: 0px 6px 18px 0px rgba(0, 0, 0, 0.15);\r\n    border-radius: 4px;\r\n    z-index: 10000000;\r\n    background: #ffffff;\r\n    color: #000000;\r\n    -webkit-box-shadow: 0px 6px 18px 0px rgba(0, 0, 0, 0.15);\r\n    -moz-box-shadow: 0px 6px 18px 0px rgba(0, 0, 0, 0.15);\r\n    padding: 20px 25px 20px 30px;\r\n}\r\n\r\n.ARK_BOX_HEADER {\r\n    font-family: \"Microsoft YaHei\";\r\n    font-size: 16px;\r\n    text-align: left;\r\n    color: #333333;\r\n    cursor: move;\r\n}\r\n\r\n.ARK_BOX_HEADER.mb-20 {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.ARK_BOX_PAGE {\r\n    color: #666666;\r\n    font-size: 12px;\r\n}\r\n\r\n\r\n.ARK_BOX_PAGE .v-radio-wrapper {\r\n    font-size: 14px;\r\n    line-height: 24px;\r\n    color: #333;\r\n    font-weight: 400;\r\n    font-stretch: normal;\r\n    cursor: pointer;\r\n    font-size: 12px;\r\n    display: inline-block;\r\n    margin-right: 8px;\r\n}\r\n\r\n.ARK_BOX_PAGE label {\r\n    font-size: 12px;\r\n    bottom: 0;\r\n    margin: 0;\r\n    max-width: 100%;\r\n}\r\n\r\n.ARK_BOX_PAGE .v-radio-wrapper span {\r\n    font-size: 12px;\r\n    color: #999;\r\n    font-weight: 400;\r\n    font-stretch: normal;\r\n}\r\n\r\n.ARK_BOX_PAGE .v-radio-wrapper span.wbText {\r\n    font-size: 14px;\r\n    color: #333;\r\n    font-weight: 400;\r\n}\r\n\r\n.ARK_BOX_PAGE .v-radio {\r\n    vertical-align: middle;\r\n    white-space: nowrap;\r\n    cursor: pointer;\r\n    outline: 0;\r\n    line-height: 1;\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n\r\n.ARK_BOX_PAGE .boxRadio {\r\n    width: 280px;\r\n    display: inline-grid;\r\n}\r\n\r\n.ARK_BOX_PAGE .mb-8 {\r\n    margin-bottom: 8px;\r\n}\r\n\r\n.ARK_BOX_PAGE .ml-24 {\r\n    margin-left: 24px;\r\n}\r\n\r\n.ARK_BOX_PAGE.mb-15 {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.ARK_BOX_PAGE.mb-16 {\r\n    margin-bottom: 16px;\r\n}\r\n\r\n.ARK_BOX_PAGE .v-radio-checked .v-radio-inner {\r\n    border-color: #0098e1;\r\n    background-color: #0098e1;\r\n}\r\n\r\n.ARK_BOX_PAGE .v-radio-inner:after {\r\n    opacity: 1;\r\n    -webkit-transform: scale(1);\r\n    transform: scale(1);\r\n    -webkit-transition: all .2s ease-in-out;\r\n    transition: all .2s ease-in-out;\r\n    transition: all .2s ease-in-out;\r\n}\r\n\r\n.ARK_BOX_PAGE .v-radio-inner {\r\n    width: 14px;\r\n    height: 14px;\r\n    top: 0;\r\n    left: 0;\r\n    border: 1px solid #d7dde4;\r\n    border-radius: 2px;\r\n    background-color: #fff;\r\n    transition: border-color .2s ease-in-out, background-color .2s ease-in-out;\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n\r\n.ARK_BOX_PAGE .v-radio-checked .v-radio-inner:after {\r\n    transform: rotate(45deg) scale(.8);\r\n}\r\n\r\n.ARK_BOX_PAGE .v-radio-wrapper.v-radio-wrapper-disabled {\r\n    color: #ddd;\r\n}\r\n\r\n.ARK_BOX_PAGE .v-radio-wrapper.v-radio-wrapper-disabled .wbText {\r\n    color: #ddd;\r\n}\r\n\r\n.ARK_BOX_PAGE .v-radio-wrapper-disabled {\r\n    cursor: not-allowed;\r\n    color: #ddd;\r\n}\r\n\r\n.ARK_BOX_PAGE .v-radio-inner:after {\r\n    content: \"\";\r\n    display: inline-block;\r\n    width: 4px;\r\n    height: 8px;\r\n    position: absolute;\r\n    top: 1px;\r\n    left: 4px;\r\n    border: 2px solid #fff;\r\n    border-top: 0;\r\n    border-left: 0;\r\n    -ms-transform: rotate(45deg) scale(0);\r\n    transform: rotate(45deg) scale(0);\r\n    transition: all .2s ease-in-out;\r\n}\r\n\r\n\r\n\r\n.ARK_BOX_PAGE input[type=checkbox],\r\n.ARK_BOX_PAGE input[type=radio] {\r\n    margin: 4px 0 0;\r\n    margin-top: 1px\\9;\r\n    line-height: normal;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    padding: 0;\r\n}\r\n\r\n.ARK_BOX_PAGE .v-radio-input {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 1;\r\n    cursor: pointer;\r\n    opacity: 0;\r\n}\r\n\r\n.ARK_BOX_CENTER {\r\n    display: block;\r\n    line-height: 16px;\r\n    font-size: 16px;\r\n}\r\n\r\n.ARK_BOX_SMALL {\r\n    font-size: 12px;\r\n    line-height: 30px;\r\n    color: #999999;\r\n}\r\n\r\n.ARK_BOX_SMALL span {\r\n    color: #0097e0;\r\n}\r\n\r\n.ARK_BOX_EVENT_ID {\r\n    position: relative;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.ARK_BOX_EVENT_ID span.title,\r\n.ARK_BOX_PAGE span.title {\r\n    width: 70px;\r\n    height: 36px;\r\n    text-align: right;\r\n    display: inline-block;\r\n    font-size: 14px;\r\n    line-height: 36px;\r\n    margin-right: 9px;\r\n    color: #666666;\r\n}\r\n\r\n.ARK_BOX_EVENT_ID input {\r\n    width: 280px;\r\n    height: 36px;\r\n    background-color: #ffffff;\r\n    border-radius: 0px;\r\n    border: 0;\r\n    border-bottom: 1px solid #d2d2d2;\r\n    color: #333333;\r\n    font-size: 14px;\r\n    line-height: 24px;\r\n    outline: 0 none !important;\r\n}\r\n\r\n.ARK_BOX_EVENT_ID input.error {\r\n    border-color: #e00000;\r\n}\r\n\r\n#ARK_BOX_EVENT_ID::-webkit-input-placeholder {\r\n    color:#bbbec4\r\n}\r\n#ARK_BOX_EVENT_ID:-ms-input-placeholder,#ARK_BOX_EVENT_ID::-ms-input-placeholder {\r\n    color:#bbbec4\r\n}\r\n#ARK_BOX_EVENT_ID::placeholder {\r\n    color:#bbbec4\r\n}\r\n#ARK_BOX_EVENT_ID:focus,#ARK_BOX_EVENT_ID:hover {\r\n    border-color:#57a3f3\r\n}\r\n#ARK_BOX_EVENT_NAME::-webkit-input-placeholder {\r\n    color:#bbbec4\r\n}\r\n#ARK_BOX_EVENT_NAME:-ms-input-placeholder,#ARK_BOX_EVENT_NAME::-ms-input-placeholder {\r\n    color:#bbbec4\r\n}\r\n#ARK_BOX_EVENT_NAME::placeholder {\r\n    color:#bbbec4\r\n}\r\n#ARK_BOX_EVENT_NAME:focus,#ARK_BOX_EVENT_NAME:hover {\r\n    border-color:#57a3f3\r\n}\r\n.ARK_BOX_EVENT_ID_ERROR {\r\n    display: none;\r\n    position: absolute;\r\n    top: -10px;\r\n    left: 79px;\r\n    font-weight: 700;\r\n    font-size: 12px;\r\n    color: red;\r\n}\r\n\r\n.ARK_BOX_ChOICE {\r\n    width: 199px;\r\n    height: 95px;\r\n    float: left;\r\n    position: relative;\r\n    border-bottom: 1px solid #f1f1f1;\r\n}\r\n\r\n.ARK_BOX_ChOICE .ARK_BOX_LIKENUM {\r\n    font-size: 12px;\r\n    color: #0098e1;\r\n    line-height: 30px;\r\n    width: 100%;\r\n}\r\n\r\n.ARK_BOX_ChOICE span {\r\n    float: left;\r\n    margin-left: 18px;\r\n}\r\n\r\n.ARK_BOX_ChOICE input {\r\n    opacity: 0;\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.ARK_BOX_ChOICE input+label {\r\n    position: absolute;\r\n    cursor: pointer;\r\n    right: 10px;\r\n    top: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n    font-size: 18px;\r\n    line-height: 18px;\r\n    text-align: center;\r\n    color: #999999;\r\n}\r\n\r\n.ARK_BOX_ChOICE input+label:after {\r\n    content: '+';\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n    border: 1px dashed #d4d4d4;\r\n}\r\n\r\n.ARK_BOX_ChOICE input+label:before {\r\n    content: '';\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n    border: 1px dashed #d4d4d4;\r\n}\r\n\r\n.ARK_BOX_ChOICE input:checked+label:after {\r\n    content: '+';\r\n    color: #0098e1;\r\n    border: 1px dashed #0098e1;\r\n}\r\n\r\n.ARK_BOX_ChOICE input:checked+label:before {\r\n    content: '+';\r\n    color: #0098e1;\r\n    border: 1px dashed #0098e1;\r\n}\r\n\r\n.ARK_BOX_SAVE {\r\n    margin-top: 15px;\r\n    margin-right: 14px;\r\n    width: 134px;\r\n    height: 32px;\r\n    float: right;\r\n    font-size: 14px;\r\n    line-height: 30px;\r\n    border: 0;\r\n    background-color: #ffffff;\r\n}\r\n\r\n#ARK_BOX_SAVE {\r\n    -moz-user-select: none;\r\n    -ms-touch-action: manipulation;\r\n    -ms-user-select: none;\r\n    -o-transition: color .2s linear, background-color .2s linear, border .2s linear;\r\n    -webkit-transition: color .2s linear, background-color .2s linear, border .2s linear;\r\n    -webkit-user-select: none;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    font-size: 12px;\r\n    font-weight: 400;\r\n    line-height: 1.5;\r\n    margin-bottom: 0;\r\n    padding: 6px 15px;\r\n    text-align: center;\r\n    touch-action: manipulation;\r\n    transition: color .2s linear, background-color .2s linear, border .2s linear;\r\n    user-select: none;\r\n    vertical-align: middle;\r\n    white-space: nowrap;\r\n    width: 60px;\r\n    height: 32px;\r\n    border-radius: 15px;\r\n    cursor: pointer;\r\n    color: #ffffff;\r\n    border: 0;\r\n    background-color: #0098e1;\r\n    outline: 0 none !important;\r\n}\r\n\r\n#ARK_BOX_SAVE:active {\r\n    background-color: #0086c7;\r\n    border-color: #0086c7;\r\n    color: #f2f2f2\r\n}\r\n\r\n#ARK_BOX_SAVE:hover,\r\n#ARK_BOX_SAVE:focus {\r\n    background-color: #47c3ff;\r\n    border-color: #47c3ff;\r\n    color: #fff\r\n}\r\n\r\n#ARK_BOX_CANCEL {\r\n    /* margin-top: 15px; */\r\n    width: 60px;\r\n    height: 32px;\r\n    /* float: right; */\r\n    font-size: 14px;\r\n    line-height: 30px;\r\n    border: 0;\r\n    background-color: #ffffff;\r\n    color: #999999;\r\n    cursor: pointer;\r\n    outline: 0 none !important;\r\n}\r\n\r\n#ARK_BOX_CANCEL:focus,\r\n#ARK_BOX_SAVE:focus {\r\n    border: 0;\r\n}\r\n\r\n#ARK_BOX_CANCEL:active,\r\n#ARK_BOX_SAVE:active {\r\n    /*border: 0;*/\r\n}\r\n\r\n.ARK_EVENT_LIST {\r\n    border: 0;\r\n    border: 1px solid #eeeeee;\r\n    border-radius: 5px;\r\n    background: #ffffff;\r\n    color: #000000;\r\n    -webkit-box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;\r\n    -moz-box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;\r\n    min-width: 80px;\r\n    min-height: 13px;\r\n    position: absolute;\r\n    top: 20px;\r\n    left: 500px;\r\n    padding: 0;\r\n    max-width: 250px;\r\n    z-index: 100000;\r\n}\r\n\r\n.ARK_EVENT_LIST a.ARK_EVENT {\r\n    max-width: 110px;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    color: #0098e1;\r\n    margin: 5px;\r\n    text-align: center;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: block;\r\n    text-decoration: underline !important;\r\n    cursor: pointer;\r\n}\r\n\r\n.ARK_SHOW {\r\n    display: block !important;\r\n    visibility: visible !important;\r\n}\r\n\r\n.debugLog {\r\n    top: 0;\r\n    left: 0;\r\n    position: absolute;\r\n    width: 260px;\r\n    height: 270px;\r\n    padding: 20px;\r\n    z-index: 10000000;\r\n}\r\n\r\n.debugLog .l-list {\r\n    position: absolute;\r\n    overflow: hidden;\r\n}\r\n\r\n.debugLog .l-list div {\r\n    color: #ffffff;\r\n    font-size: 13px;\r\n    line-height: 24px;\r\n}\r\n\r\n.debugLog .bg {\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(47, 50, 58, 0.8);\r\n    box-shadow: 0px 6px 18px 0px rgba(0, 0, 0, 0.12);\r\n    border-radius: 4px;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.debugLog .cha {\r\n    position: absolute;\r\n    right: 20px;\r\n    color: rgba(255, 255, 255, 0.5);\r\n    top: 20px;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    width: 10px;\r\n    height: 10px;\r\n    cursor: pointer;\r\n}");var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w=function(e){var t,n,r,o,i,a,s,l="",c=0;for(e=N(e);c<e.length;)o=(t=e.charCodeAt(c++))>>2,i=(3&t)<<4|(n=e.charCodeAt(c++))>>4,a=(15&n)<<2|(r=e.charCodeAt(c++))>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),l=l+O.charAt(o)+O.charAt(i)+O.charAt(a)+O.charAt(s);return l},R=function(e){var t,n,r,o,i,a,s="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=O.indexOf(e.charAt(l++))<<2|(o=O.indexOf(e.charAt(l++)))>>4,n=(15&o)<<4|(i=O.indexOf(e.charAt(l++)))>>2,r=(3&i)<<6|(a=O.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!=i&&(s+=String.fromCharCode(n)),64!=a&&(s+=String.fromCharCode(r));return s=S(s)},N=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},S=function(e){for(var t="",n=0,r=0,o=0,i=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),i=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&i),n+=3);return t},L=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},C=Object.freeze({default:L,__moduleExports:L}),K=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var T=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))I.call(n,a)&&(o[a]=n[a]);if(K){r=K(n);for(var s=0;s<r.length;s++)B.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o},k=Object.freeze({default:T,__moduleExports:T});new RegExp("%[a-f0-9]{2}","gi"),new RegExp("(%[a-f0-9]{2})+","gi");var X=C&&L||C,D=k&&T||k;function P(e,t){return t.encode?t.strict?X(e):encodeURIComponent(e):e}var V=function(e,t){(t=D({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&!1!==t.sort||(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[P(t,e),"[",r,"]"].join(""):[P(t,e),"[",P(r,e),"]=",P(n,e)].join("")};case"bracket":return function(t,n){return null===n?P(t,e):[P(t,e),"[]=",P(n,e)].join("")};default:return function(t,n){return null===n?P(t,e):[P(t,e),"=",P(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var o=e[r];if(void 0===o)return"";if(null===o)return P(r,t);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(e){void 0!==e&&i.push(n(r,e,i.length))}),i.join("&")}return P(r,t)+"="+P(o,t)}).filter(function(e){return e.length>0}).join("&"):""};function j(e){try{return JSON.parse(e)}catch(e){return{}}}function G(){var e=null;if(window.XDomainRequest)return new XDomainRequest;if(window.XMLHttpRequest)e=new XMLHttpRequest;else try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){e=new XMLHttpRequest}}return e}function M(e){var t=new G;t.onload=function(n){e.success(j(t.responseText))},t.onerror=function(n){e.error(j(t.responseText))},t.onreadystatechange=function(){4==t.readyState&&(t.status>=200&&t.status<300||304==t.status?e.success(j(t.responseText)):e.error(j(t.responseText),t.status),t.onreadystatechange=null,t.onload=null)},t.open(e.type,e.url,!0),"GET"===e.type?t.send(null):t.send(e.data)}function z(){this.xhr=G(),this.url="",this.data="",this.type="GET",this.success=function(){},this.error=function(){}}function H(e,t){if(p.appid)if(d){g("消息日志：",e),!0!==t&&(e=y.checkMsg(e)),e.xcontext=function(e){var t={};for(var n in e)e[n].constructor===Object?t[n]=JSON.stringify(e[n]):t[n]=e[n];return t}(e.xcontext);var n=[e],r=JSON.stringify(n);(new z).post({url:d+"?appid="+p.appid,data:r,success:function(e){g("发送成功：",e)},error:function(e){h("发送失败：")}})}else h("未设置上传数据接口！");else h("无APPKEY！")}function U(){}z.prototype.get=function(e){this.url=e.url+"?"+V(e.data),this.data=e.data,this.type="GET",this.success=e.success||function(){},this.error=e.error||function(){},M(this)},z.prototype.post=function(e){this.url=e.url,this.data=e.data,this.type="POST",this.success=e.success||function(){},this.error=e.error||function(){},M(this)},U.prototype.set=function(e,t,n){var r=new Date;r.setTime(r.getTime()+31536e6);var o=r.toGMTString();document.cookie=e+"="+t+"; expires="+o+"; path=/; domain=/"},U.prototype.get=function(e){return function(e,t){if("string"==typeof t){var n,r,o=e+"=",i=t.split(/[;&]/);for(n=0;n<i.length;n++){for(r=i[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(o))return r.substring(o.length,r.length)}}}(e,document.cookie)},U.prototype.remove=function(e){this.set(e,"")};var $=new U;function Y(){}Y.prototype.get=function(e){if(window.localStorage)return window.localStorage.getItem(e)},Y.prototype.set=function(e,t){window.localStorage&&window.localStorage.setItem(e,t)},Y.prototype.remove=function(e){window.localStorage&&window.localStorage.removeItem(e)};var Z=new Y;function J(){}J.prototype.get=function(e){if(window.sessionStorage)return window.sessionStorage.getItem(e)},J.prototype.set=function(e,t){window.sessionStorage&&window.sessionStorage.setItem(e,t)},J.prototype.remove=function(e){window.sessionStorage&&window.sessionStorage.removeItem(e)};var F=new J;function W(){this.name="FZ_STROAGE",this.nameS="FZ_SESSION",this.storageObj=this.getStorage(),this.sessionObj=this.getSession()}W.prototype.setStorage=function(e,t){this.storageObj[e]=t,t=w(JSON.stringify(this.storageObj)),$.set(this.name,t,"LOCAL"),F.set(this.name,t),Z.set(this.name,t)},W.prototype.getStorage=function(){var e=$.get(this.name)||!1,t=Z.get(this.name)||!1,n=F.get(this.name)||!1,r={};return(e||t||n)&&(r=e||t||n),e&&t&&n||!(e||t||n)||this.setStorageAll(r),e||t||n?JSON.parse(R(r)):{}},W.prototype.setStorageAll=function(e){if(e.constructor!==String)try{e=JSON.stringify(e)}catch(e){return}$.set(this.name,e,"LOCAL"),F.set(this.name,e),Z.set(this.name,e)},W.prototype.removeStorage=function(e){if(this.storageObj[e]){delete this.storageObj[e];var t=0;for(var n in this.storageObj)t++;if(t>0){var r=w(JSON.stringify(this.storageObj));$.set(this.name,r,"LOCAL"),Z.set(this.name,r),F.set(this.name,r)}else $.set(this.name,""),Z.remove(this.name),F.remove(this.name)}},W.prototype.setSession=function(e,t){this.sessionObj[e]=t,t=w(JSON.stringify(this.sessionObj)),$.set(this.nameS,t),F.set(this.nameS,t)},W.prototype.getSession=function(){var e=$.get(this.nameS)||!1,t=F.get(this.nameS)||!1,n={};return(e||t)&&(n=t||e),e&&t||!e&&!t||this.setSessionAll(n),e||t?JSON.parse(R(n)):{}},W.prototype.removeSession=function(e){if(this.sessionObj[e]){delete this.sessionObj[e];var t=0;for(var n in this.sessionObj)t++;if(t>0){var r=w(JSON.stringify(this.sessionObj));$.set(this.nameS,r),F.set(this.nameS,r)}else $.set(this.nameS,""),F.remove(this.nameS)}},W.prototype.setSessionAll=function(e){if(e.constructor!==String)try{e=JSON.stringify(e)}catch(e){return}$.set(this.nameS,e),F.set(this.nameS,e)},W.prototype.setData=function(e,t,n){this.setSession(e,t)},W.prototype.getData=function(e){return!1===this.sessionObj[e]||0===this.sessionObj[e]?this.sessionObj[e]:this.sessionObj[e]||""},W.prototype.removeData=function(e){this.removeSession(e)},W.prototype.setLocal=function(e,t){this.setStorage(e,t,"LOCAL")},W.prototype.getLocal=function(e){return!1===this.storageObj[e]||0===this.storageObj[e]?this.storageObj[e]:this.storageObj[e]||""},W.prototype.removeLocal=function(e){this.removeStorage(e)};var q=new W;function Q(e,t){if(e.constructor===String){if(y.checkSKey(e)){p.xwhat=e,p.xwhen=+new Date;var n=function e(t){var n,r={},o=!1;for(var i in t)y.checkKey(i)&&(0==t[i]||t[i])&&(0==t[i]||y.checkValue(t[i]))&&(""!==t[i]&&(r[i]=(n=t[i])instanceof Array?n:n instanceof Object?n:n instanceof Boolean||"boolean"==typeof n?n:n instanceof Number||"number"==typeof n?n:n.toString()),t[i]instanceof Object&&!(t[i]instanceof Array)&&(e(t[i])?r[i]=e(t[i]):delete r[i]),o=!0);for(var i in r){var a=[];for(var s in r[i])a.push(r[i][s]);0===a.length&&r[i].constructor===Object&&delete r[i]}return!!o&&r}(p);if(t&&(t=y.checkMsg(t)),t&&t.constructor===Object){if(!y.checkObjLen(t)&&0!==y.checkObjLen(t))return;for(var r in t)t[r].constructor===Array||t[r].constructor===Object?n.xcontext[r]=JSON.stringify(t[r]):n.xcontext[r]=t[r]}n.xcontext.$is_first_day=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var r=e.getDate(),o=t+""+n+(r=r<10?"0"+r:r),i=q.getLocal("FRISTDAY");return!(i&&o!==i||(q.setLocal("FRISTDAY",o),0))}(),H(n)}}else h("track方法中，eventName格式错误")}var ee=window.ARK_VISUAL.msgConfig,te=window.location,ne=te.protocol+"//"+te.host+te.pathname+te.hash,re=null,oe=!1,ie=[];function ae(e){oe=e}function se(e){ie=e}function le(e){if(oe){var t=e.target,n=(re=t).getAttribute("ark_id");if(""!==n&&n){for(var r=0;r<ie.length;r++)ie[r].appEventId===n&&Q(ie[r].appEventId);var o={event_info:{$event_id:n,$os:ee.xcontext.$os,$os_version:ee.xcontext.$os_version,$browser:ee.xcontext.$browser,$browser_version:ee.xcontext.$browser_version,$lib_version:ee.xcontext.$lib_version,$screen_width:ee.xcontext.$screen_width,$screen_height:ee.xcontext.$screen_height},type:"debug",target_page:ne};v.postMsg(o)}}}function ce(){var e=document.getElementById("ARK_DEBUG_BOX");e&&e.parentNode.removeChild(e)}var de=window.location,ue=(de.protocol,de.host,de.protocol+"//"+de.host+de.pathname+de.hash),pe='<div class="ARK_BOX_HEADER mb-20" id="ARK_BOX_HEADER"><span class="ARK_BOX_CENTER" id="ARK_BOX_TITLE">创建事件</span><span class="ARK_BOX_CENTER ARK_BOX_SMALL">对选定的页面 UI 元素<span id="ARK_BOX_HEADER_TEXT"></span>进行命名定义</span></div><div class="ARK_BOX_EVENT_ID"><span class="title">事件ID：</span><input id="ARK_BOX_EVENT_ID" type="text" placeholder="事件唯一标识，仅支持字母、数字和下划线"><span class="ARK_BOX_EVENT_ID_ERROR" id="ARK_BOX_EVENT_ID_ERROR">仅支持字母、数字和下划线,且以字母开头</span></div><div class="ARK_BOX_EVENT_ID"><span class="title">事件名称：</span><input id="ARK_BOX_EVENT_NAME" type="text" placeholder="事件显示名称，用于分析时方便查看"><span class="ARK_BOX_EVENT_ID_ERROR" id="ARK_BOX_EVENT_NAME_ERROR">建议您命名不超过50个字符,便于阅读</span></div><div class="ARK_BOX_PAGE mb-15"><span class="title">限制条件：</span><div class="boxRadio"><label class="mb-8 v-radio-wrapper " for="ARK_BOX_ISPAGE"><span class="v-radio"><span class="v-radio-inner"></span> <input type="checkbox" class="v-radio-input" name="ARK_BOX_ISPAGE" id="ARK_BOX_ISPAGE"></span>  限制在当前页面<span>（未选中表示应用于所有页面）</span></label><label class="mb-8 v-radio-wrapper " for="ARK_BOX_ISTEXT"><span class="v-radio"><span class="v-radio-inner"></span> <input type="checkbox" class="v-radio-input" name="ARK_BOX_ISTEXT" id="ARK_BOX_ISTEXT"></span> <span id="isTextValue" class="wbText">无文本</span></label></div></div><div class="ARK_BOX_SAVE"><button id="ARK_BOX_CANCEL">取消</button><button id="ARK_BOX_SAVE">确认</button></div>';function fe(){this.isAll=!1,this.hasTouch=window.document&&void 0!==window.document.documentElement.ontouchstart,this.eleList=""}function he(e){var t=[];if(e.indexOf("<")<0)return t;for(var n=e.split("<"),r=0;r<n.length;r++)t.push({link:n[r]});return t}function ge(e,t){var n=e.split("<"),r=t.split("<"),o=0,i=!1;if(n.length===r.length){for(var a=0;a<n.length;a++)n[a]!==r[a]?o++:i=!0;if(i)return o<3}return i}function me(e){var t=be(e),n=he(t);if(0===n.length)return[];var r=n[0],o=e.tagName.toLowerCase(),i=r.link.replace("#",",#").replace(".",",.");""!==i.replace(o+",","")&&(i=i.replace(o+",",""));for(var a=document.querySelectorAll(i),s=[],l=0;l<a.length;l++){var c=be(a[l]);if(a[l]!==e&&a[l].tagName===e.tagName){if(c===t&&Ae(a[l])===Ae(e)){s.push(a[l]);continue}ge(t,c)&&Ae(a[l])===Ae(e)&&s.push(a[l])}}return s}function ve(e){var t="",n=e.tagName;if(!n)return t;n=n.toLowerCase();var r=e.id?"#"+e.id:"";if(e.classList.length>0){for(var o="",i=0;i<e.classList.length;i++)e.classList[i].indexOf("ARK")<0&&(o+="."+e.classList[i]);t=n+r+o}else t=n+r;return t}function Ae(e){for(var t=e.childNodes,n=[],r=[],o=0;o<t.length;o++)r.push(ve(t[o]));n.push(r.join("&"));for(o=0;o<t.length;o++)t[o].childNodes.length>0&&n.push(Ae(t[o]));return n.join(">")}function be(e){for(var t=[],n=e;null!=n;){var r=n.tagName;if(!r)break;r=r.toLowerCase();var o=n.id?"#"+n.id:"";if(n.classList.length>0){for(var i="",a=0;a<n.classList.length;a++)n.classList[a].indexOf("ARK")<0&&(i+="."+n.classList[a]);t.push(r+o+i)}else t.push(r+o);n=n.parentNode}return t.join("<")}function _e(e,t){if(e.parentNode===t)return!0;for(;void 0!=e&&null!=e&&"BODY"!=e.tagName.toUpperCase();){if(e==t)return!0;e=e.parentNode}return!1}function xe(e){var t,r,o=e.target;return o.classList.value.indexOf("ARK_SAVE_")>-1||(!!_e(o,document.getElementById("ARK_BOX"))||(!!_e(o,document.body)||(e.preventDefault(),e.stopPropagation(),Se("ARK_BOX"),n.remove(),Ne(),Le(r=t=o,"ARK_CLICK ARK_ISCLICK",!0)&&(r.classList.add("ARK_ISCLICK","ARK_BASICS"),Be(t)),!1)))}function Ee(e,t,n){e.setAttribute(t,n)}function ye(e,t){e.removeAttribute(t)}function Oe(e){ye(e,"ark_data"),ye(e,"ark_id"),Re(e,"ARK_SAVE_DISPOSE"),Re(e,"ARK_SAVE_NO_DISPOSE"),Re(e,"ARK_SAVE_CHANGE_DISPOSE")}function we(e,t){var r=e;Oe(r);var o,i;(function(e,t){e.classList.add(t)})(r,1===t.dispose?"ARK_SAVE_DISPOSE":2===t.dispose?"ARK_SAVE_CHANGE_DISPOSE":"ARK_SAVE_NO_DISPOSE"),Ee(r,"ark_data","ARK_ID_"+t.id),Ee(r,"ark_id",t.appEventId),r.onclick=(o=r,i=t,function(){oe||(delete i.ele,ue===i.url?(v.postMsg({type:"start_update",code:200,msg:"开始编辑已埋元素"}),Se("ARK_BOX"),n.remove(),Be(o,i)):v.postMsg({type:"change_page",code:200,msg:"跳转埋点页面",path:[i],url:i.url}))})}function Re(e,t){e.classList.remove(t)}function Ne(){for(var e=document.getElementsByClassName("ARK_ISCLICK");0!==e.length;)if(e[0].classList.contains("ARK_CLICK")){for(var t=e[0].parentNode;null!=t&&-1!==["TABLE","TR","TD","TH"].indexOf(t.tagName);)t=t.parentNode;t.removeChild(e[0])}else e[0].classList.remove("ARK_ISCLICK","ARK_BASICS");return!1}function Se(e){for(var t=document.getElementsByClassName(e);0!=t.length;){for(var n=t[0].parentNode;null!=n&&-1!==["TABLE","TR","TD","TH"].indexOf(n.tagName);)n=n.parentNode;n.removeChild(t[0])}}function Le(e,t,n,r){var o,i=null;if("none"===(o=e,window.getComputedStyle?window.getComputedStyle(o,null):o.currentStyle).display&&e.classList.add("ARK_SHOW"),i=e.parentNode){if(!i||-1!==["HTML"].indexOf(i.tagName))return!1;for(;null!=i&&-1!==["TABLE","TR","TD","TH"].indexOf(i.tagName);)i=i.parentNode;var a=s.position(e)||{top:0,left:0},l=document.createElement("div");return l.className=t,l.style.width=s.width(e)+"px",l.style.height=s.height(e)+"px",l.style.top=a.top+"px",l.style.left=a.left+"px",l.style.display=n?"block":"none",l.style.position="absolute",l.onclick=r||Ne,!!i&&(i.appendChild(l),i)}return!1}function Ce(e){var t=e.target;if(t.classList.value.indexOf("ARK_HOVER")<0)return!0;t.classList.remove("ARK_HOVER");for(var n=document.getElementsByClassName("ARK_HOVER");0!=n.length;){n[0].classList.remove("ARK_HOVER")}return!0}function Ke(e){var t=e.target;if(_e(t,document.getElementById("ARK_BOX")))return!0;if(_e(t,document.body))return!0;if(t.classList.value.indexOf("ARK_SAVE_")>-1)return!0;var n=t.tagName.toLowerCase();return-1===["body","hr","br","canvas"].indexOf(n)?(-1!==["I","SPAN"].indexOf(t.tagName)&&t.parentNode&&-1!==["A","BUTTON"].indexOf(t.parentNode.tagName)&&(t=t.parentNode),t.classList.add("ARK_HOVER"),!0):void 0}function Ie(e){v.postMsg(e)}function Be(e,t){var r=e,o=s.boxPosition(r),i=document.createElement("div");i.id="ARK_BOX",i.className="ARK_BOX",i.style.top=o.top+"px",i.style.left=o.left+"px",i.style.position="absolute",i.innerHTML=pe,i.onclick=function(e){e.stopPropagation()},document.body.appendChild(i),function(e,t){var r=document.getElementById("ARK_BOX_HEADER"),o=document.getElementById("ARK_BOX_HEADER_TEXT"),i=document.getElementById("ARK_BOX_EVENT_ID"),a=document.getElementById("ARK_BOX_EVENT_NAME"),l=document.getElementById("ARK_BOX_SAVE"),c=document.getElementById("ARK_BOX_CANCEL"),d=document.getElementById("ARK_BOX_ISPAGE"),u=document.getElementById("ARK_BOX_ISTEXT"),p=document.getElementById("isTextValue"),f=document.getElementById("ARK_BOX_EVENT_ID_ERROR"),h=document.getElementById("ARK_BOX_EVENT_NAME_ERROR"),g=document.getElementById("ARK_BOX_TITLE"),m=!0;g.textContent="创建事件",f.style.display="none",h.style.display="none",o.textContent=" "+e.tagName+" ";me(e);var v=function(e,t){var n=be(e),r=he(n);if(0!==r.length){for(var o=r[0],i=document.querySelectorAll(o.link),a=[],s=0;s<i.length;s++)be(i[s])===n&&a.push(i[s]);for(s=0;s<a.length;s++)if(a[s]===e)return s;return 0}}(e);n.init(r),d.checked=!0,d.parentNode.classList.add("v-radio-checked"),u.checked=!1,u.parentNode.classList.remove("v-radio-checked");var A=s.content(e);u.parentNode.parentNode.style.visibility="hidden",""===A?(A="无文本",u.parentNode.classList.add("v-radio-wrapper-disabled"),u.parentNode.parentNode.classList.add("v-radio-wrapper-disabled"),u.disabled=!0):A.length>20?(A="文本过长",u.parentNode.classList.add("v-radio-wrapper-disabled"),u.parentNode.parentNode.classList.add("v-radio-wrapper-disabled"),u.disabled=!0):(A=A,u.parentNode.classList.remove("v-radio-wrapper-disabled"),u.parentNode.childNodes[0].classList.remove("v-radio-wrapper-disabled"),u.disabled=!1,u.parentNode.parentNode.style.visibility="visible",p.textContent="限制在文本： "+A);t&&(g.textContent="编辑事件",i.value=t.appEventId||"",a.value=t.appEventName||"",v=t.index,1!==t.isAll&&"1"!==t.isAll||(d.checked=!1,d.parentNode.classList.remove("v-radio-checked")),!t.isText||0===t.isText&&""===t.isText||(u.checked=!0,A=t.isText,u.parentNode.classList.remove("v-radio-wrapper-disabled"),u.parentNode.childNodes[0].classList.remove("v-radio-wrapper-disabled"),u.parentNode.classList.add("v-radio-checked"),u.disabled=!1,p.textContent="限制在文本： "+A),t.dispose&&t.dispose);var b=d.checked;d.onclick=function(e){var t=e.target,n=t.parentNode;b?(n.classList.remove("v-radio-checked"),d.checked=b=!1):(n.classList.add("v-radio-checked"),d.checked=b=!0)};var _=u.checked;u.onclick=function(e){var t=e.target,n=t.parentNode;_?(n.classList.remove("v-radio-checked"),u.checked=_=!1):(n.classList.add("v-radio-checked"),u.checked=_=!0)},l.onclick=function(){var r=i.value,o=a.value;if(y.checkSKey(r)?(i.classList.remove("error"),f.style.display="none",m=!0):(i.classList.add("error"),f.style.display="block",m=!1),o&&o.length>50?(a.classList.add("error"),h.style.display="block",m=!1):(a.classList.remove("error"),h.style.display="none"),r&&m){var s=!1===b?1:0,l={type:t?"change_update":"change_request",payload:{path:[{link:be(e),appEventId:r,url:ue,isAll:s,index:v,isText:!0===_?A:"",appEventName:o,allVersion:0,dispose:t&&t.dispose||0,id:t?t.id:0}]}};Ie(l),Ne(),Se("ARK_BOX"),n.remove()}},c.onclick=function(){Se("ARK_BOX"),n.remove(),Ne();Ie({type:"change_cancel"})},a.onblur=function(){var e=this.value;if(e&&e.length>50)return a.classList.add("error"),h.style.display="block",void(m=!1);a.classList.remove("error"),h.style.display="none",m=!0},a.onfocus=function(){a.classList.remove("error"),h.style.display="none",m=!0},i.onblur=function(){var e=this.value;if(!y.checkSKey(e))return i.classList.add("error"),f.style.display="block",void(m=!1);i.classList.remove("error"),f.style.display="none",m=!0},i.onfocus=function(){i.classList.remove("error"),f.style.display="none",m=!0}}(r,t)}function Te(e,t){me(e);Oe(e,t.id),Se("ARK_BOX"),n.remove(),we(e,t)}fe.prototype.changeEvent=function(e,t){Se("ARK_DEBUG_BOX"),Te(e,t),Se("ARK_BOX"),n.remove(),Le(e,"ARK_CLICK ARK_ISCLICK",!0),Be(e,t)},fe.prototype.addClickBox=function(e,t){e&&(Se("ARK_DEBUG_BOX"),we(e,t))},fe.prototype.delClickBox=function(e,t){Oe(e,t.id)},fe.prototype.likeList=function(e){return me(e)},fe.prototype.init=function(){e(document.body,"mouseover",Ke,!0),e(document.body,"mouseout",Ce,!0),e(document.body,"click",xe,!0)},fe.prototype.delclickLister=function(){Se("ARK_BOX"),n.remove(),t(document.body,"mouseover",Ke,!0),t(document.body,"mouseout",Ce,!0),t(document.body,"click",xe,!0)},fe.prototype.parseEvent=function(e){var t=e.link,n=e.index,r=he(t);if(0!==r.length){for(var o=r[0],i=document.querySelectorAll(o.link),a=[],s=0;s<i.length;s++)be(i[s])===t&&a.push(i[s]);return i=[],e.ele=a[n],{allEleList:a,obj:e,index:n}}},fe.prototype.changeEventSuccess=Te,fe.prototype.clearEvent=function(){Se("ARK_BOX"),n.remove()},fe.prototype.highlight=function(e){for(var t=document.getElementsByClassName("ARK_SAVE_NO_DISPOSE"),n=document.getElementsByClassName("ARK_SAVE_DISPOSE"),r=document.getElementsByClassName("ARK_SAVE_CHANGE_DISPOSE"),o=0;o<t.length;o++)!0===e&&t[o].classList.remove("ARK_NO_LIGHT"),!1===e&&t[o].classList.add("ARK_NO_LIGHT");for(o=0;o<n.length;o++)!0===e&&n[o].classList.remove("ARK_NO_LIGHT"),!1===e&&n[o].classList.add("ARK_NO_LIGHT");for(o=0;o<r.length;o++)!0===e&&r[o].classList.remove("ARK_NO_LIGHT"),!1===e&&r[o].classList.add("ARK_NO_LIGHT")};var ke=new fe,Xe=window.location,De=Xe.protocol+"//"+Xe.host+Xe.pathname+Xe.hash;function Pe(e){var t=!1;De.indexOf(e)>-1&&(t=!0);var n={type:"checkUrl",code:200,url:De,skip:t};v.postMsg(n)}var Ve=window.location;Ve.protocol,Ve.host,Ve.pathname,Ve.hash,Ve.protocol,Ve.host;var je=!0;!function(){var e,t,n;e=window.ARK_VISUAL.msgConfig,u=(p=e).xcontext,f(window.ARK_VISUAL.DEBUG),"/"!==(t=window.ARK_VISUAL.server.replace("up","")).charAt(t.length-1)&&(t+="/"),d=t+"up","/"!==(n=window.ARK_VISUAL.eventServer).charAt(n.length-1)&&(n+="/")}();var Ge=window.location,Me=Ge.protocol+"//"+Ge.host+Ge.pathname+Ge.hash;v.getMsg(function(n){var r=n;if(je){try{r=JSON.parse(r.data)}catch(n){return}if(g("获取消息==>",r),"INIT"===r.type){if(r.boss&&r.orgin&&(v.boss=r.boss,v.orgin=r.orgin,v.appid=r.appid),!r||r.appid!==p.appid)return v.postMsg({code:400,type:"INIT",msg:"appkey不相同"}),void(je=!1);v.postMsg({code:200,type:"INIT"}),Pe(Me),q.setData("visual","true")}var o,i;if(v.appid===p.appid)if("point_list"===r.type&&function(n){var r=n;ke.clearEvent();for(var o=0;o<r.length;o++){var i=ke.parseEvent(r[o]);if(!(i.allEleList.length<i.index)){var a=i.allEleList[i.index];ke.addClickBox(a,i.obj),t(a,"click",le),e(a,"click",le)}}se(r)}(r.data),"EVENT_URL"!==r.type){if("VISUAL"===r.type&&(!0===r.visual&&(ae(!1),ce(),ke.init()),!0===r.debugmode&&(ke.delclickLister(),ae(!0))),"change_update"===r.type&&r.path&&r.path.length>0&&(o=r.path[0],i=ke.parseEvent(o),ke.changeEvent(i.allEleList[i.index],i.obj)),"change_delete"===r.type&&(r.path&&r.path.length>0?(function(e){var t=ke.parseEvent(e);ke.delClickBox(t.allEleList[t.index],t.obj)}(r.path[0]),v.postMsg({code:200,type:"change_delete"})):v.postMsg({code:400,type:"change_delete",msg:"删除失败"})),"add_success"===r.type&&v.postMsg({code:200,type:"add_success",msg:"添加成功"}),"success_update"===r.type&&r.path&&r.path.length>0&&function(e){var t=ke.parseEvent(e);ke.changeEventSuccess(t.allEleList[t.index],t.obj)}(r.path[0]),"debug"===r.type&&function(e){ce();var t=re,n=e.event_info,r=s.boxPosition(t,"debug"),o=document.createElement("div");o.id="ARK_DEBUG_BOX",o.className="debugLog",o.style.top=r.top+"px",o.style.left=r.left+"px",o.style.position="absolute";var i=document.createElement("div");i.className="l-list";var a=document.createElement("div");a.className="bg",o.onclick=function(e){e.stopPropagation()};for(var l=0;l<n.length;l++){var c=document.createElement("div");c.innerHTML=n[l].title+":"+n[l].val+"<br>",i.appendChild(c)}o.appendChild(a),o.appendChild(i);var d=document.createElement("img");d.className="cha",d.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDcwM0Y3NzQ3MzJEMTFFODhFNDFEQjRCQTQ3NDU1ODYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDcwM0Y3NzU3MzJEMTFFODhFNDFEQjRCQTQ3NDU1ODYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NTlBNDc3RjcyQzgxMUU4OEU0MURCNEJBNDc0NTU4NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1NTlBNDc4MDcyQzgxMUU4OEU0MURCNEJBNDc0NTU4NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtVAdZIAAACKSURBVHjadI/dDcMwCIRxxD5Jn6N0gqRdpMvlZ4NUeU08ETkqkJDlIh3G5jPikoh8iOgLXVSPFhoapB2aoO4P9IYORsr2+LLTJ3c2YIVOtkeFkzU8tN4U0guHxhUAipBGU+yUQi2xESc+oBFaws7iHrgC5fDZDWY2SPeaC8gN/iYr2Feg0uDzFmAA00Ef4tAWMJcAAAAASUVORK5CYII=",d.onclick=function(){document.body.removeChild(o)},o.appendChild(d),document.body.appendChild(o)}(r),"highlight"===r.type){var a=r.highlight;ke.highlight(a)}}else Pe(r.url)}else v.postMsg({code:400,type:"INIT"})})}();
